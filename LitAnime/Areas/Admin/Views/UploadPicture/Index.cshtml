@model UploadPictureViewModel
@{
    string strTitle = "Upload picture";
    ViewBag.Title = strTitle;
}

<div class="login_form">
    <h1>Upload picture</h1>
    <form enctype="multipart/form-data" asp-area="admin" asp-controller="UploadPicture" asp-action="Index" method="post" id="imgUploadForm">
        <div asp-validation-summary="All"></div>
        <img class="uploading_image skeleton" id="img-preview"/>
        <input asp-for="@Model.FormFile" accept="image/png, image/jpeg" id="img"/>
        <div class ="block">
            <label asp-for=@Model.PicName></label>
            <div class = "jsection">
                <input asp-for="@Model.PicName" type="text"/>
            </div>  
        </div>
        <div class ="block">
            <label asp-for=@Model.Tags></label>
             <div class = "jsection">
                <input asp-for="@Model.Tags" type="text"/>
            </div>
        </div>
       
        <input class="input btn" type="submit" value="Upload" />
    </form>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script>
        $('#img').change(function () 
        {
            var input = $(this)[0];
            if (input.files && input.files[0]) 
            {
                if (input.files[0].type.match('image.*') || input.files[0].size < 5242880) 
                {
                    var reader = new FileReader();
                    reader.onload = function (e) 
                    {
                        $('#img-preview').attr('src', e.target.result);
                    }
                    reader.readAsDataURL(input.files[0]);
                } 
                else 
                {
                    console.log('Large file or not picture');
                }
            } 
            else 
            {
                console.log('хьюстон у нас проблема');
            }
        });

        $('#reset-img-preview').click(function() 
        {
            $('#img').val('');
            $('#img-preview').attr('src', 'default-preview.jpg');
        });

        $('#form').bind('reset', function () 
        {
            $('#img-preview').attr('src', 'default-preview.jpg');
        });
    </script>
</div>